System.register(["./index-legacy-9064cd94.js","./LayoutContent-legacy-e2555612.js","./FormItem-legacy-33805e19.js"],(function(e,a){"use strict";var t,n,l,s,o,u,d,r,c,i,p,g,m,f,v,y,w,h,_,b,k,x,j,z;return{setters:[e=>{t=e.p,n=e.q,l=e.r,s=e.s,o=e.o,u=e.j,d=e.w,r=e.k,c=e.l,i=e.t,p=e.v,g=e.x,m=e.n,f=e.y,v=e.z,y=e.m,w=e.A,h=e.B,_=e.C},e=>{b=e.N,k=e.a,x=e.b},e=>{j=e.N,z=e.a}],execute:function(){const a={code:0,data:{token:"admin"}},I={login:async function(e){return a.data.token=e.name,a}};e("default",{__name:"index",setup(e){const a=t(),{query:$}=n(),q=l({name:"admin",password:"12"});!function(){const e=s.get("loginInfo");e&&(q.value.name=e.name||"",q.value.password=e.password||"")}();const C=l(!0),K=l(!1);async function N(){const{name:e,password:t}=q.value;if(e&&t){try{K.value=!0,$message.loading("正在验证...");const n=await I.login({name:e,password:t.toString()});if(console.log("当前用户名是：",e),$message.success("登录成功"),h(n.data.token),C.value?s.set("loginInfo",{name:e,password:t}):s.remove("loginInfo"),await _(),$.redirect){const e=$.redirect;Reflect.deleteProperty($,"redirect"),a.push({path:e,query:$})}else a.push("/")}catch(n){console.error(n),$message.removeMessage()}K.value=!1}else $message.warning("请输入用户名和密码")}return q.value.name="admin",q.value.password="123",N(),(e,a)=>(o(),u(r(w),{position:"absolute","content-style":"padding: 24px;"},{default:d((()=>[c(r(p),{style:{height:"100%"},justify:"center",align:"center",vertical:"",size:"large"},{default:d((()=>[c(r(i),null,{default:d((()=>[c(r(p),{justify:"center"},{default:d((()=>[c(r(g),{size:24,type:"info"},{default:d((()=>[m(f("JTools"))])),_:1})])),_:1})])),_:1}),c(r(b),{"content-style":"padding: 24px;"},{default:d((()=>[c(r(j),{"label-placement":"left","label-width":"auto"},{default:d((()=>[c(r(z),{label:"用户名："},{default:d((()=>[c(r(k),{value:q.value.name,"onUpdate:value":a[0]||(a[0]=e=>q.value.name=e),autofocus:"",placeholder:"admin",maxlength:20},null,8,["value"])])),_:1}),c(r(z),{label:"密码："},{default:d((()=>[c(r(k),{value:q.value.password,"onUpdate:value":a[1]||(a[1]=e=>q.value.password=e),type:"password","show-password-on":"mousedown",placeholder:"123456",maxlength:20,onKeypress:v(N,["enter"])},null,8,["value","onKeypress"])])),_:1}),c(r(p),{justify:"space-between",align:"center",size:"large"},{default:d((()=>[c(r(x),{checked:C.value,label:"记住我","on-update:checked":e=>C.value=e},null,8,["checked","on-update:checked"]),c(r(y),{type:"primary",loading:K.value,onClick:N},{default:d((()=>[m(" 登录 ")])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}))}})}}}));
